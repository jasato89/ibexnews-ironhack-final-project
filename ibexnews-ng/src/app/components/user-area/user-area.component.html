<div class="flex flex-wrap flex-col justify-center items-center bg-yellow-400 py-10 ">

  <div class="h-auto w-full md:w-5/12 p-2">
    <h2 class="text-gray-800 text-xl py-2">Bienvenido <strong>{{user.name}}</strong></h2>
    <p class="text-gray-800"> Añade tus empresas favoritas</p>
    <ng-autocomplete
      [data]="companies"
      [searchKeyword]="keyword"
      (selected)='selectEvent($event)'
      (inputChanged)='onChangeSearch($event)'
      (inputFocused)='onFocused($event)'
      [itemTemplate]="itemTemplate"
      [notFoundTemplate]="notFoundTemplate">
    </ng-autocomplete>

    <ng-template #itemTemplate let-item>
      <a [innerHTML]="item.productionName"></a>
    </ng-template>

    <ng-template #notFoundTemplate let-notFound>
      <div [innerHTML]="notFound"></div>
    </ng-template>
  </div>
</div>
<div class="bg-red-100">
  <div class="flex flex-col justify-center items-center bg-red-100 mx-2">

    <div class="flex flex-wrap flex-col py-2 w-full sm:w-3/4" *ngFor="let company of userIbexCompanies; index as i">

      <div>
        <div (click)="newsVisibility(i)"
             class="flex flex-row justify-between content-center items-center bg-red-400 rounded-t mt-2 p-2">
          <img class="self-center w-20 h-20 object-contain m-2 p-2"
               src="assets/images/{{company.queryName}}.png">
          <button class="bg-yellow-400 text-white m-2 p-2 h-5/6 rounded hover:bg-yellow-500" (click)="deleteCompany(i)">
            Eliminar
          </button>
        </div>
        <div class="mb-2 p-2 border-l-2 border-r-2 border-b-2 border-red-400 rounded-b" *ngIf="showNews[i]">
          <div *ngFor="let article of company.news" class="bg-red-200 rounded p-2 m-2">
            <div>
              <p class="text-gray-600">{{formatDate(article.localDateTime)}}</p>
              <a class="text-gray-500 hover:text-gray-600" href="{{article.url}}">{{article.title}}</a>
              <div class="flex">
                <p class="text-white bg-yellow-400 px-2 m-2 rounded" *ngIf="article.mediaOutlet == 'EL_ECONOMISTA'">El
                  Economista</p>
                <p class="text-white bg-red-500 px-2 m-2 rounded" *ngIf="article.mediaOutlet == 'CINCODIAS'">Cinco
                  Dias</p>
                <p class="text-white bg-blue-500 px-2 m-2 rounded" *ngIf="article.mediaOutlet == 'ELCONFIDENCIAL'">El
                  Confidencial</p>
              </div>
            </div>
          </div>
          <div class="flex flex-row justify-center items-center">
            <button class="m-2 p-2 bg-red-400 hover:bg-red-500 w-2/12 text-white rounded" (click)="previous(i)">Atrás</button>
            <button class="m-2 p-2 bg-red-400 hover:bg-red-500 w-2/12 text-white rounded" (click)="next(i)">Siguiente</button>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

